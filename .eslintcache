[{"C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\index.js":"1","C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\reportWebVitals.js":"2","C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\App.js":"3","C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\pages\\Register\\index.js":"4","C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\ApolloProvider.js":"5","C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\pages\\Home\\index.js":"6","C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\pages\\Login\\index.js":"7","C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\graphql\\mutation\\users.js":"8","C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\graphql\\query\\users.js":"9","C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\context\\auth.js":"10","C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\utils\\PrivateRoute.js":"11","C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\graphql\\query\\messages.js":"12","C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\context\\message.js":"13","C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\Components\\Messages.js":"14","C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\Components\\Users.js":"15","C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\Components\\Message.js":"16","C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\graphql\\mutation\\message.js":"17","C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\graphql\\subscription\\messages.js":"18"},{"size":500,"mtime":499162500000,"results":"19","hashOfConfig":"20"},{"size":362,"mtime":499162500000,"results":"21","hashOfConfig":"20"},{"size":827,"mtime":1610810134948,"results":"22","hashOfConfig":"20"},{"size":5689,"mtime":1610898710908,"results":"23","hashOfConfig":"20"},{"size":1604,"mtime":1610896881866,"results":"24","hashOfConfig":"20"},{"size":2909,"mtime":1610982953482,"results":"25","hashOfConfig":"20"},{"size":4080,"mtime":1610898685831,"results":"26","hashOfConfig":"20"},{"size":403,"mtime":1610722376408,"results":"27","hashOfConfig":"20"},{"size":468,"mtime":1610788976888,"results":"28","hashOfConfig":"20"},{"size":1363,"mtime":1610764608878,"results":"29","hashOfConfig":"20"},{"size":425,"mtime":1610765425473,"results":"30","hashOfConfig":"20"},{"size":287,"mtime":1610967880911,"results":"31","hashOfConfig":"20"},{"size":3505,"mtime":1610981435823,"results":"32","hashOfConfig":"20"},{"size":3042,"mtime":1610969268767,"results":"33","hashOfConfig":"20"},{"size":1986,"mtime":1610864488131,"results":"34","hashOfConfig":"20"},{"size":4280,"mtime":1610983183683,"results":"35","hashOfConfig":"20"},{"size":449,"mtime":1610965057339,"results":"36","hashOfConfig":"20"},{"size":397,"mtime":1610981236210,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"108m0m",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"40"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\index.js",[],["76","77"],"C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\reportWebVitals.js",[],"C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\App.js",[],"C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\pages\\Register\\index.js",[],"C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\ApolloProvider.js",[],"C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\pages\\Home\\index.js",["78","79"],"C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\pages\\Login\\index.js",[],"C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\graphql\\mutation\\users.js",[],"C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\graphql\\query\\users.js",[],"C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\context\\auth.js",[],"C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\utils\\PrivateRoute.js",[],"C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\graphql\\query\\messages.js",[],"C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\context\\message.js",[],"C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\Components\\Messages.js",["80"],"import { useLazyQuery, useMutation } from \"@apollo/client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useMessageDispatch, useMessageState } from \"../context/message\";\r\nimport { SEND_MESSAGE } from \"../graphql/mutation/message\";\r\nimport { GET_MESSAGES } from \"../graphql/query/messages\";\r\nimport Message from \"./Message\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\n\r\n\r\nconst Messages = () => {\r\n  const dispatch = useMessageDispatch();\r\n  const { users } = useMessageState();\r\n  const [content, setContent] = useState(\"\");\r\n  const selectedUser = users?.find((u) => u.selected);\r\n  const messages = selectedUser?.messages;\r\n  const [\r\n    getMessages,\r\n    { loading: loadingMessages, data: dataMessages },\r\n  ] = useLazyQuery(GET_MESSAGES);\r\n  const [sendMessage] = useMutation(SEND_MESSAGE, {\r\n    onError: (err) => console.log(err),\r\n    // we move to ws\r\n    // onCompleted: (data) =>\r\n    //   dispatch({\r\n    //     type: \"ADD_MESSAGE\",\r\n    //     payload: {\r\n    //       username: selectedUser.username,\r\n    //       message: data.sendMessage,\r\n    //     },\r\n    //   }),\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (selectedUser && !selectedUser.messages) {\r\n      getMessages({ variables: { from: selectedUser.username } });\r\n    }\r\n  }, [selectedUser, getMessages]);\r\n\r\n  useEffect(() => {\r\n    if (dataMessages) {\r\n      dispatch({\r\n        type: \"SET_USER_MESSAGES\",\r\n        payload: {\r\n          username: selectedUser.username,\r\n          messages: dataMessages.getMessages,\r\n        },\r\n      });\r\n    }\r\n  }, [dataMessages]);\r\n\r\n  const handleMessage = (e) => {\r\n    e.preventDefault();\r\n    if (content === \"\" || !selectedUser) return;\r\n    sendMessage({ variables: { to: selectedUser.username, content } });\r\n    setContent(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-message\">\r\n      <div className=\"content-message\">\r\n        {!messages && !loadingMessages ? (\r\n          <p className=\"info-message\">Select a friend</p>\r\n        ) : loadingMessages ? (\r\n          <p className=\"info-message\">Loading...</p>\r\n        ) : messages.length > 0 ? (\r\n          messages.map((m, i) => (\r\n            <>\r\n              <Message key={m.uuid} message={m} />\r\n              {i === messages.length - 1 && (\r\n                <div style={{ marginBottom: \"-20px\" }}>\r\n                  <br />\r\n                </div>\r\n              )}\r\n            </>\r\n          ))\r\n        ) : messages.length === 0 ? (\r\n          <p className=\"info-message\">\r\n            You are now connected send your first message\r\n          </p>\r\n        ) : (\r\n          \"You dont have message\"\r\n        )}\r\n      </div>\r\n      <form onSubmit={handleMessage} className=\"form-input-message\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"input-message\"\r\n          placeholder=\"Type a message...\"\r\n          value={content}\r\n          onChange={(e) => setContent(e.target.value)}\r\n        />\r\n        <SendIcon onClick={handleMessage} role=\"button\" />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Messages;\r\n","C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\Components\\Users.js",[],"C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\Components\\Message.js",["81"],"C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\graphql\\mutation\\message.js",[],"C:\\Users\\Fausta Abimanyu H\\Documents\\Koding\\MERN\\implementLearning\\chat-app\\client-side\\src\\graphql\\subscription\\messages.js",[],{"ruleId":"82","replacedBy":"83"},{"ruleId":"84","replacedBy":"85"},{"ruleId":"86","severity":1,"message":"87","line":48,"column":6,"nodeType":"88","endLine":48,"endColumn":33,"suggestions":"89"},{"ruleId":"86","severity":1,"message":"87","line":68,"column":6,"nodeType":"88","endLine":68,"endColumn":35,"suggestions":"90"},{"ruleId":"86","severity":1,"message":"91","line":49,"column":6,"nodeType":"88","endLine":49,"endColumn":20,"suggestions":"92"},{"ruleId":"93","severity":1,"message":"94","line":1,"column":43,"nodeType":"95","messageId":"96","endLine":1,"endColumn":53},"no-native-reassign",["97"],"no-negated-in-lhs",["98"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatchMessage' and 'user.username'. Either include them or remove the dependency array.","ArrayExpression",["99"],["100"],"React Hook useEffect has missing dependencies: 'dispatch' and 'selectedUser.username'. Either include them or remove the dependency array.",["101"],"no-unused-vars","'Typography' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation",{"desc":"102","fix":"103"},{"desc":"104","fix":"105"},{"desc":"106","fix":"107"},"Update the dependencies array to be: [dataMessage, dispatchMessage, errorMessage, user.username]",{"range":"108","text":"109"},"Update the dependencies array to be: [dataReaction, dispatchMessage, errorReaction, user.username]",{"range":"110","text":"111"},"Update the dependencies array to be: [dataMessages, dispatch, selectedUser.username]",{"range":"112","text":"113"},[1480,1507],"[dataMessage, dispatchMessage, errorMessage, user.username]",[1982,2011],"[dataReaction, dispatchMessage, errorReaction, user.username]",[1551,1565],"[dataMessages, dispatch, selectedUser.username]"]